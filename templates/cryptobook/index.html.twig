{% extends 'base.html.twig' %}

{% block javascripts %}
    {{ encore_entry_script_tags('home') }}
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-4">

            {% set ratioUsdEur = totalUsd/totalEur %}
            <table class="table table-sm table-bordered table-striped table-responsive-md table-dark">
                <thead>
                <tr>
                    <th></th>
                    <th class="text-end">{{ ratioUsdEur|round(4) }} $</th>
                    <th class="text-end">1 €</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="text-white">Investi</td>
                    <td class="text-white text-end">{{ (totalDepositEur*ratioUsdEur)|round(0) }} $</td>
                    <td class="text-white text-end">{{ totalDepositEur|round(0) }} €</td>
                </tr>
                <tr>
                    <td class="text-white">Wallet crypto</td>
                    <td class="text-white text-end">{{ totalUsd|round(0) }} $</td>
                    <td class="text-white text-end">{{ totalEur|round(0) }} €</td>
                </tr>
                <tr>
                    <td class="text-white">Wallet stable</td>
                    <td class="text-white text-end">{{ totalUsdStable|round(0) }} $</td>
                    <td class="text-white text-end">{{ totalEurStable|round(0) }} €</td>
                </tr>
                <tr>
                    <td class="text-white">Total</td>
                    <td class="text-white text-end">{{ (totalUsd+totalUsdStable)|round(0) }} $</td>
                    <td class="text-white text-end">{{ (totalEur+totalEurStable)|round(0) }} €</td>
                </tr>
                {# <tr>
                    <td class="text-white">Farming Crypto</td>
                    <td class="text-white text-end">{{ totalUsd|round(0) }} $</td>
                    <td class="text-white text-end">€</td>
                </tr>
                <tr>
                    <td class="text-white">Farming Stable</td>
                    <td class="text-white text-end">{{ totalUsd|round(0) }} $</td>
                    <td class="text-white text-end">€</td>
                </tr>
                <tr>
                    <td class="text-white">Emprunt</td>
                    <td class="text-white text-end">{{ totalUsd|round(0) }} $</td>
                    <td class="text-white text-end">€</td>
                </tr> #}
                </tbody>
            </table>

            <table class="table table-sm table-bordered table-striped table-responsive-md table-dark">
                <tbody>
                {% for position in positions %}
                    <tr>
                        <td class="text-white text-end">{{ position.totalsum|round(2) }}</td>
                        <td class="text-white">{{ position.symbol|upper }}</td>
                        <td class="text-white text-end">{{ position.valueUsd|round(2) }}$</td>
                    </tr>
                {% endfor %}

                </tbody>
            </table>


        </div>
        <div class="col-8">
            <canvas id="chart-pos"></canvas>
        </div>
    </div>



    <div id="id-array-positions" class="visually-hidden" data-pie="{{ positions|json_encode }}">
    </div>
{% endblock %}
