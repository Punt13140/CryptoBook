{% macro part_prototype(part) %}
    <div class="row">
        <div class="col">{{ form_row(part.percent) }}</div>
        <div class="col">{{ form_row(part.coin) }}</div>
    </div>
{% endmacro %}

<div class="container">
    {{ form_start(form) }}
    <div class="row">
        <div class="col-md align-self-end">
            {{ form_row(form.fiatToDcaEur) }}
        </div>
        <div class="col-md align-self-end">
            {{ form_row(form.farmingToDcaUsd) }}
        </div>
        <div class="col-md align-self-end">
            <div class="mb-3">
                <button type="button" class="add_item_link btn btn-secondary" data-collection-holder-class="parts">
                    Ajouter une part
                </button>
            </div>
        </div>
    </div>
    <div class="row">
        <ul class="parts" data-index="{{ form.parts|length > 0 ? form.parts|last.vars.name + 1 : 0 }}"
            data-prototype="{{ _self.part_prototype(form.parts.vars.prototype)|e }}">
        </ul>
    </div>

    <button class="btn">{{ button_label|default('Save') }}</button>

    {{ form_end(form) }}
</div>